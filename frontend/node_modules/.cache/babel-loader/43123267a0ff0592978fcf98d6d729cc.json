{"ast":null,"code":"var _jsxFileName = \"B:\\\\ShopStore\\\\frontend\\\\src\\\\Components\\\\Register.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router';\nimport { AuthContext } from '../Context/AuthProvider'; // import axios from \"axios\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [conPass, setConPass] = useState(\"\");\n  const history = useHistory();\n  const {\n    setUser\n  } = useContext(AuthContext);\n  useEffect(() => {}, []);\n\n  function getCookie(name) {\n    let cookieValue = null;\n\n    if (document.cookie && document.cookie !== '') {\n      const cookies = document.cookie.split(';');\n\n      for (let i = 0; i < cookies.length; i++) {\n        const cookie = cookies[i].trim(); // Does this cookie string begin with the name we want?\n\n        if (cookie.substring(0, name.length + 1) === name + '=') {\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n          break;\n        }\n      }\n    }\n\n    return cookieValue;\n  }\n\n  function onsub() {\n    console.log(username + \" \" + email + \"  \" + password + \"  \" + conPass);\n    let csrftoken = getCookie('csrftoken');\n    const attribute = {\n      method: \"POST\",\n      credentials: \"same-origin\",\n      headers: {\n        'Accept': 'application/json',\n        'X-Requested-With': 'XMLHttpRequest',\n        'X-CSRFToken': csrftoken\n      },\n      body: JSON.stringify({\n        'username': username,\n        'email': email,\n        'password1': password,\n        'password2': conPass\n      })\n    };\n    fetch(\"http://127.0.0.1:8000/register\", attribute).then(response => response.json()).then(data => {\n      console.log(data);\n\n      if (data['isValid']) {\n        history.push(\"/\");\n      }\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n        className: \"border-bottom mb-4\",\n        children: \"Join Today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Username*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            value: username,\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Required 150 characters or fewer. Letters, digits and @/./+/-/_ only.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Email*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Password*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Password Confirmation*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            value: conPass,\n            onChange: e => setConPass(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Enter the same password as before, for verification.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-info\",\n        onClick: onsub,\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-top pt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"text-muted\",\n        children: [\"Already have an account ? \", /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"ml-2\",\n          href: \"#\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Register, \"KUIscpk2U+WN0YlgS79d67ebd2k=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["B:/ShopStore/frontend/src/Components/Register.jsx"],"names":["React","useState","useEffect","useContext","useHistory","AuthContext","Register","username","setUsername","email","setEmail","password","setPassword","conPass","setConPass","history","setUser","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","onsub","console","log","csrftoken","attribute","method","credentials","headers","body","JSON","stringify","fetch","then","response","json","data","push","catch","err","e","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAoD,OAApD;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,WAAT,QAA4B,yBAA5B,C,CACA;;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACnB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAMc,OAAO,GAAGX,UAAU,EAA1B;AACA,QAAM;AAACY,IAAAA;AAAD,MAAYb,UAAU,CAACE,WAAD,CAA5B;AAEAH,EAAAA,SAAS,CAAC,MAAI,CAEb,CAFQ,EAEN,EAFM,CAAT;;AAIA,WAASe,SAAT,CAAmBC,IAAnB,EAAyB;AACrB,QAAIC,WAAW,GAAG,IAAlB;;AACA,QAAIC,QAAQ,CAACC,MAAT,IAAmBD,QAAQ,CAACC,MAAT,KAAoB,EAA3C,EAA+C;AAC3C,YAAMC,OAAO,GAAGF,QAAQ,CAACC,MAAT,CAAgBE,KAAhB,CAAsB,GAAtB,CAAhB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,OAAO,CAACG,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,cAAMH,MAAM,GAAGC,OAAO,CAACE,CAAD,CAAP,CAAWE,IAAX,EAAf,CADqC,CAErC;;AACA,YAAIL,MAAM,CAACM,SAAP,CAAiB,CAAjB,EAAoBT,IAAI,CAACO,MAAL,GAAc,CAAlC,MAA0CP,IAAI,GAAG,GAArD,EAA2D;AACvDC,UAAAA,WAAW,GAAGS,kBAAkB,CAACP,MAAM,CAACM,SAAP,CAAiBT,IAAI,CAACO,MAAL,GAAc,CAA/B,CAAD,CAAhC;AACA;AACH;AACJ;AACJ;;AACD,WAAON,WAAP;AACH;;AAGD,WAASU,KAAT,GAAgB;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYxB,QAAQ,GAAC,GAAT,GAAaE,KAAb,GAAmB,IAAnB,GAAwBE,QAAxB,GAAiC,IAAjC,GAAsCE,OAAlD;AACA,QAAImB,SAAS,GAAGf,SAAS,CAAC,WAAD,CAAzB;AACA,UAAMgB,SAAS,GAAG;AACdC,MAAAA,MAAM,EAAE,MADM;AAEdC,MAAAA,WAAW,EAAE,aAFC;AAGdC,MAAAA,OAAO,EAAC;AACJ,kBAAU,kBADN;AAEJ,4BAAoB,gBAFhB;AAGJ,uBAAeJ;AAHX,OAHM;AAQdK,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,oBAAWhC,QADM;AAEjB,iBAAQE,KAFS;AAGjB,qBAAYE,QAHK;AAIjB,qBAAYE;AAJK,OAAf;AARQ,KAAlB;AAeA2B,IAAAA,KAAK,CAAC,gCAAD,EAAmCP,SAAnC,CAAL,CACKQ,IADL,CACWC,QAAD,IAAYA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEWG,IAAD,IAAQ;AACVd,MAAAA,OAAO,CAACC,GAAR,CAAYa,IAAZ;;AACA,UAAGA,IAAI,CAAC,SAAD,CAAP,EAAmB;AAEf7B,QAAAA,OAAO,CAAC8B,IAAR,CAAa,GAAb;AACH;AACJ,KARL,EASKC,KATL,CASYC,GAAD,IAAOjB,OAAO,CAACC,GAAR,CAAYgB,GAAZ,CATlB;AAUH;;AACD,sBACQ;AAAK,IAAA,SAAS,EAAE,iBAAhB;AAAA,4BACQ;AAAU,MAAA,SAAS,EAAC,YAApB;AAAA,8BACI;AAAQ,QAAA,SAAS,EAAC,oBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,kCACI;AAAO,YAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,SAAS,EAAC,cAAjB;AAAgC,YAAA,IAAI,EAAC,MAArC;AAA4C,YAAA,KAAK,EAAExC,QAAnD;AAA6D,YAAA,QAAQ,EAAGyC,CAAD,IAAKxC,WAAW,CAACwC,CAAC,CAACC,MAAF,CAASC,KAAV;AAAvF;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAMI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,kCACI;AAAO,YAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,OAAZ;AAAoB,YAAA,SAAS,EAAC,cAA9B;AAA6C,YAAA,KAAK,EAAEzC,KAApD;AAA2D,YAAA,QAAQ,EAAGuC,CAAD,IAAKtC,QAAQ,CAACsC,CAAC,CAACC,MAAF,CAASC,KAAV;AAAlF;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,eAUI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,kCACI;AAAO,YAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,SAAS,EAAC,cAAjC;AAAgD,YAAA,KAAK,EAAEvC,QAAvD;AAAiE,YAAA,QAAQ,EAAGqC,CAAD,IAAKpC,WAAW,CAACoC,CAAC,CAACC,MAAF,CAASC,KAAV;AAA3F;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ,eAcI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,kCACI;AAAO,YAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,SAAS,EAAC,cAAjC;AAAgD,YAAA,KAAK,EAAErC,OAAvD;AAAgE,YAAA,QAAQ,EAAGmC,CAAD,IAAKlC,UAAU,CAACkC,CAAC,CAACC,MAAF,CAASC,KAAV;AAAzF;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADR,eAwBQ;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BACI;AAAQ,QAAA,SAAS,EAAC,sBAAlB;AAAyC,QAAA,OAAO,EAAErB,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAxBR,eA2BI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACI;AAAO,QAAA,SAAS,EAAC,YAAjB;AAAA,8DAC8B;AAAG,UAAA,SAAS,EAAC,MAAb;AAAoB,UAAA,IAAI,EAAC,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADR;AAmCH,CA7FD;;GAAMvB,Q;UAKcF,U;;;KALdE,Q;AA+FN,eAAeA,QAAf","sourcesContent":["import React, {useState, useEffect, useContext}from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { AuthContext } from '../Context/AuthProvider';\r\n// import axios from \"axios\";\r\n\r\nconst Register = () => {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [conPass, setConPass] = useState(\"\")\r\n    const history = useHistory();\r\n    const {setUser} = useContext(AuthContext);\r\n\r\n    useEffect(()=>{\r\n        \r\n    }, []);\r\n\r\n    function getCookie(name) {\r\n        let cookieValue = null;\r\n        if (document.cookie && document.cookie !== '') {\r\n            const cookies = document.cookie.split(';');\r\n            for (let i = 0; i < cookies.length; i++) {\r\n                const cookie = cookies[i].trim();\r\n                // Does this cookie string begin with the name we want?\r\n                if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return cookieValue;\r\n    }\r\n    \r\n\r\n    function onsub(){\r\n        console.log(username+\" \"+email+\"  \"+password+\"  \"+conPass)\r\n        let csrftoken = getCookie('csrftoken');\r\n        const attribute = {\r\n            method: \"POST\",\r\n            credentials :\"same-origin\",\r\n            headers:{\r\n                'Accept': 'application/json',\r\n                'X-Requested-With': 'XMLHttpRequest',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'username':username,\r\n                'email':email,\r\n                'password1':password,\r\n                'password2':conPass\r\n            }),\r\n        }\r\n        fetch(\"http://127.0.0.1:8000/register\", attribute)\r\n            .then((response)=>response.json())\r\n            .then((data)=>{\r\n                console.log(data);\r\n                if(data['isValid']){\r\n                    \r\n                    history.push(\"/\");\r\n                }\r\n            })\r\n            .catch((err)=>console.log(err));\r\n    }\r\n    return (\r\n            <div className= \"content-section\">\r\n                    <fieldset className=\"form-group\">\r\n                        <legend className=\"border-bottom mb-4\">Join Today</legend>\r\n                        <div>\r\n                            <div className=\"mb-3\">\r\n                                <label className=\"form-label\">Username*</label>\r\n                                <input className=\"form-control\" type=\"text\" value={username} onChange={(e)=>setUsername(e.target.value)}/>\r\n                                <small>Required 150 characters or fewer. Letters, digits and @/./+/-/_ only.</small>\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                                <label className=\"form-label\">Email*</label>\r\n                                <input type=\"email\" className=\"form-control\" value={email} onChange={(e)=>setEmail(e.target.value)}/>\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                                <label className=\"form-label\">Password*</label>\r\n                                <input type=\"password\" className=\"form-control\" value={password} onChange={(e)=>setPassword(e.target.value)}/>\r\n                                </div>\r\n                            <div className=\"mb-3\">\r\n                                <label className=\"form-label\">Password Confirmation*</label>\r\n                                <input type=\"password\" className=\"form-control\" value={conPass} onChange={(e)=>setConPass(e.target.value)}/>\r\n                                <small>Enter the same password as before, for verification.</small>\r\n                            </div>\r\n                        </div>\r\n                    </fieldset>\r\n                    <div className=\"form-group\">\r\n                        <button className=\"btn btn-outline-info\" onClick={onsub}>Sign up</button>\r\n                    </div>\r\n                <div className=\"border-top pt-3\">\r\n                    <small className=\"text-muted\">\r\n                        Already have an account ? <a className=\"ml-2\" href=\"#\">Sign up</a>\r\n                    </small>\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n \r\nexport default Register;"]},"metadata":{},"sourceType":"module"}